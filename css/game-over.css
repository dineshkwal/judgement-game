/* ===========================================
   game-over.css - Game Over Screen & Modal
   =========================================== */

/* Game Over Overlay */
#gameOverOverlay {
  display: none;
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 2000;
  justify-content: center;
  align-items: center;
  /* Artistic background */
  background-color: #0d220d;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='200' height='200' viewBox='0 0 200 200'%3E%3Cdefs%3E%3Cstyle%3E.f%7Bfill:%2345a049;fill-opacity:0.1;%7D.s%7Bfill:none;stroke:%2345a049;stroke-opacity:0.1;stroke-width:1.5;%7D%3C/style%3E%3C/defs%3E%3C!-- Row 1: Card, Spade, Card, Heart --%3E%3Crect class='s' x='11' y='6' width='28' height='38' rx='3'/%3E%3Cpath class='f' d='M75,11 C75,21.8 64.2,26.4 64.2,32.5 C64.2,37 68.5,38.8 72.1,37 L70.3,42.4 L79.7,42.4 L77.9,37 C81.5,38.8 85.8,37 85.8,32.5 C85.8,26.4 75,21.8 75,11 Z'/%3E%3Crect class='s' x='111' y='6' width='28' height='38' rx='3'/%3E%3Cpath class='f' d='M175,18 C170,13 163,13 163,20 C163,27 175,32 175,40 C175,32 187,27 187,20 C187,13 180,13 175,18'/%3E%3C!-- Row 2: Diamond, Card, Club, Card --%3E%3Cpolygon class='f' points='25,60 38,75 25,90 12,75'/%3E%3Crect class='s' x='61' y='56' width='28' height='38' rx='3'/%3E%3Cg class='f'%3E%3Ccircle cx='125' cy='68' r='6'/%3E%3Ccircle cx='119' cy='78' r='6'/%3E%3Ccircle cx='131' cy='78' r='6'/%3E%3C/g%3E%3Crect class='s' x='161' y='56' width='28' height='38' rx='3'/%3E%3C!-- Row 3: Card, Heart, Card, Spade --%3E%3Crect class='s' x='11' y='106' width='28' height='38' rx='3'/%3E%3Cpath class='f' d='M75,118 C70,113 63,113 63,120 C63,127 75,132 75,140 C75,132 87,127 87,120 C87,113 80,113 75,118'/%3E%3Crect class='s' x='111' y='106' width='28' height='38' rx='3'/%3E%3Cpath class='f' d='M175,111 C175,121.8 164.2,126.4 164.2,132.5 C164.2,137 168.5,138.8 172.1,137 L170.3,142.4 L179.7,142.4 L177.9,137 C181.5,138.8 185.8,137 185.8,132.5 C185.8,126.4 175,121.8 175,111 Z'/%3E%3C!-- Row 4: Club, Card, Diamond, Card --%3E%3Cg class='f'%3E%3Ccircle cx='25' cy='168' r='6'/%3E%3Ccircle cx='19' cy='178' r='6'/%3E%3Ccircle cx='31' cy='178' r='6'/%3E%3C/g%3E%3Crect class='s' x='61' y='156' width='28' height='38' rx='3'/%3E%3Cpolygon class='f' points='125,160 138,175 125,190 112,175'/%3E%3Crect class='s' x='161' y='156' width='28' height='38' rx='3'/%3E%3C/svg%3E");
  background-size: 200px 200px;
  background-repeat: repeat;
}

/* Radial gradient overlay for depth */
#gameOverOverlay::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: radial-gradient(ellipse at center, transparent 0%, rgba(10, 26, 10, 0.6) 100%);
  pointer-events: none;
}

#gameOverOverlay.show {
  display: flex;
  animation: fadeIn 0.3s ease-out;
}

/* Hide top bar elements when scorecard is open */
#gameOverOverlay.show ~ #game #gameTopBar {
  opacity: 0;
  pointer-events: none;
}

/* Game Over Modal */
#gameOverModal {
  background: linear-gradient(135deg, rgba(30, 30, 30, 0.95) 0%, rgba(20, 20, 20, 0.98) 100%);
  backdrop-filter: blur(20px);
  border-radius: 24px;
  border: 2px solid rgba(76, 175, 80, 0.4);
  padding: 3rem;
  max-width: 1200px;
  width: 90vw;
  max-height: 90vh;
  overflow-y: auto;
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.8), 0 0 0 1px rgba(76, 175, 80, 0.2);
  position: relative;
  animation: modalSlideIn 0.4s ease-out;
}

/* Game Over Screen Modal (narrower) */
#gameOverOverlay.game-over-screen #gameOverModal {
  width: 50vh;
  padding: 2rem;
}

@keyframes modalSlideIn {
  from {
    opacity: 0;
    transform: translateY(-40px) scale(0.9);
  }
  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

/* Float animations */
@keyframes floatUp {
  0% {
    opacity: 1;
    transform: translate(-50%, 0) scale(1);
  }
  50% {
    opacity: 1;
    transform: translate(-50%, -50px) scale(1.2);
  }
  100% {
    opacity: 0;
    transform: translate(-50%, -100px) scale(1.5);
  }
}

@keyframes reactionPulse {
  0% {
    opacity: 0;
    transform: translate(-50%, -50%) scale(0.5);
  }
  50% {
    opacity: 1;
    transform: translate(-50%, -50%) scale(1.1);
  }
  100% {
    opacity: 1;
    transform: translate(-50%, -50%) scale(1);
  }
}

@keyframes fadeOut {
  from {
    opacity: 1;
  }
  to {
    opacity: 0;
  }
}

/* Float from player animation for received reactions */
@keyframes floatFromPlayer {
  0% {
    opacity: 0;
    transform: translateY(0) scale(0.5);
  }
  10% {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
  100% {
    opacity: 0;
    transform: translateY(-120px) scale(1.2);
  }
}

.emoji-float-from-player {
  text-shadow: 0 2px 8px rgba(0, 0, 0, 0.6);
  filter: drop-shadow(0 0 10px rgba(255, 255, 255, 0.3));
}

.scorecard-header {
  text-align: center;
  margin-bottom: 2rem;
  position: relative;
  z-index: 1;
  display: block;
  visibility: visible;
}

#gameOverModal h2 {
  margin: 0 0 0.5rem 0;
  color: #fff;
  font-size: 2rem;
  text-align: center;
  font-weight: 700;
  letter-spacing: 1px;
  text-transform: uppercase;
  text-shadow: 0 2px 10px rgba(76, 175, 80, 0.3);
  padding: 0 60px;
  display: block;
  visibility: visible;
  opacity: 1;
}

.game-over-lobby-code {
  margin: 0;
  color: #ffd700;
  font-size: 0.9rem;
  font-weight: 600;
  letter-spacing: 2px;
  text-align: center;
  display: block;
}

#gameOverModal .close-btn {
  position: absolute;
  top: 1.5rem;
  right: 1.5rem;
  background: rgba(255, 255, 255, 0.05);
  color: #fff;
  border: 2px solid rgba(255, 255, 255, 0.2);
  border-radius: 50%;
  width: 45px;
  height: 45px;
  font-size: 1.8rem;
  font-weight: 300;
  z-index: 10;
  cursor: pointer;
  line-height: 1;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.3s ease;
  padding: 0;
  backdrop-filter: blur(10px);
}

#gameOverModal .close-btn:hover {
  background: rgba(244, 67, 54, 0.8);
  color: white;
  border-color: #f44336;
  transform: scale(1.1) rotate(90deg);
  box-shadow: 0 4px 20px rgba(244, 67, 54, 0.5);
}

/* Hide close button on game over screen */
#gameOverOverlay.game-over-screen .close-btn {
  display: none !important;
}

/* Hide title on game over screen */
#gameOverOverlay.game-over-screen #gameOverTitle {
  display: none !important;
}

/* ========== GAME OVER SCREEN STYLES ========== */
.game-over-container {
  text-align: center;
  max-width: 400px;
  margin: 0 auto;
}

.game-over-status {
  font-size: 1.25rem;
  color: #555;
  text-transform: uppercase;
  letter-spacing: 2px;
  margin: 2.5rem 0;
}

.game-over-winner-section {
  margin-bottom: 2rem;
  background: linear-gradient(135deg, rgba(76,175,80,0.1) 0%, rgba(76,175,80,0.05) 100%);
  border: 1px solid rgba(76,175,80,0.3);
  border-radius: 12px;
  padding: 1.25rem 2rem;
}

.game-over-winner-label {
  font-size: 0.9rem;
  color: #888;
  text-transform: uppercase;
  letter-spacing: 2px;
  margin-bottom: 0.5rem;
}

.game-over-crown {
  display: none;
}

.game-over-winner-name {
  font-size: 1.8rem;
  font-weight: 700;
  color: #ffeb3b;
  margin-bottom: 0.25rem;
}

.game-over-winner-score {
  font-size: 1.1rem;
  color: #4caf50;
  font-weight: 500;
}

.game-over-separator {
  display: flex;
  align-items: center;
  gap: 1rem;
  margin: 2rem 0;
}

.game-over-separator .separator-line {
  flex: 1;
  height: 1px;
  background: #333;
}

.game-over-separator .separator-text {
  font-size: 0.8rem;
  color: #555;
  text-transform: uppercase;
  letter-spacing: 2px;
}

.game-over-rankings {
  margin-bottom: 2rem;
}

.game-over-rankings .rank-item {
  display: flex;
  align-items: center;
  padding: 0.9rem 1rem;
  background: rgba(255,255,255,0.02);
  border-radius: 10px;
  margin-bottom: 0.5rem;
  transition: background 0.2s;
}

.game-over-rankings .rank-item:hover {
  background: rgba(255,255,255,0.05);
}

.game-over-rankings .rank-item.winner {
  background: linear-gradient(135deg, rgba(76,175,80,0.15) 0%, rgba(76,175,80,0.05) 100%);
  border: 1px solid rgba(76,175,80,0.2);
}

.game-over-rankings .rank-medal {
  width: 32px;
  height: 32px;
  border-radius: 8px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
  font-size: 0.85rem;
  margin-right: 1rem;
  background: #222;
  color: #666;
}

.game-over-rankings .rank-medal.gold {
  background: linear-gradient(135deg, #FFD700, #FFA500);
  color: #000;
}

.game-over-rankings .rank-medal.silver {
  background: linear-gradient(135deg, #C0C0C0, #888);
  color: #000;
}

.game-over-rankings .rank-medal.bronze {
  background: linear-gradient(135deg, #CD7F32, #8B4513);
  color: #fff;
}

.game-over-rankings .rank-name {
  flex: 1;
  font-weight: 500;
  text-align: left;
  color: #ccc;
}

.game-over-rankings .rank-item.winner .rank-name {
  color: #fff;
}

.game-over-rankings .rank-score {
  font-weight: 600;
  color: #666;
}

.game-over-rankings .rank-item.winner .rank-score {
  color: #4caf50;
}

.game-over-actions {
  display: flex;
  gap: 0.75rem;
  margin-bottom: 1.25rem;
}

.game-over-btn {
  flex: 1;
  padding: 1rem 1.5rem;
  border-radius: 25px;
  font-size: 0.95rem;
  font-weight: 600;
  cursor: pointer;
  border: none;
  transition: all 0.2s;
  font-family: inherit;
}

.game-over-btn.primary {
  background: #4caf50;
  color: #fff;
}

.game-over-btn.primary:hover {
  background: #5cbf60;
  transform: translateY(-1px);
}

.game-over-btn.secondary {
  background: #6b5b95;
  color: #fff;
  border: none;
}

.game-over-btn.secondary:hover {
  background: #7d6ba8;
  color: #fff;
}

.game-over-links {
  display: flex;
  justify-content: center;
  gap: 0.75rem;
}

.game-over-link {
  background: #2a2a2a;
  border: 1px solid #3a3a3a;
  border-radius: 25px;
  color: #aaa;
  font-size: 0.9rem;
  font-weight: 500;
  cursor: pointer;
  font-family: inherit;
  padding: 0.75rem 1.5rem;
  transition: all 0.2s;
}

.game-over-link:hover {
  background: #353535;
  color: #ccc;
  border-color: #4a4a4a;
}

/* ========== GAME OVER SCORECARD TABLE ========== */
#gameOverContent table {
  width: 100%;
  border-collapse: separate;
  border-spacing: 0;
  margin-top: 1rem;
  font-size: 1.15rem;
  border-radius: 16px;
  overflow: hidden;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.6);
  border: 2px solid rgba(76, 175, 80, 0.4);
}

#gameOverContent th,
#gameOverContent td {
  border: none;
  border-right: 1px solid rgba(76, 175, 80, 0.15);
  border-bottom: 1px solid rgba(76, 175, 80, 0.15);
  padding: 1.4rem 1.8rem;
  text-align: center;
}

#gameOverContent th:last-child,
#gameOverContent td:last-child {
  border-right: none;
}

#gameOverContent th {
  background: linear-gradient(135deg, rgba(56, 142, 60, 0.8) 0%, rgba(46, 125, 50, 0.8) 100%);
  color: #fff;
  font-weight: 700;
  font-size: 1.25rem;
  position: sticky;
  top: 0;
  z-index: 10;
  padding: 1.6rem;
  text-transform: uppercase;
  letter-spacing: 1.8px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4);
  backdrop-filter: blur(10px);
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
}

#gameOverContent td {
  background: rgba(30, 30, 30, 0.6);
  line-height: 1.9;
  color: rgba(255, 255, 255, 0.95);
  font-size: 1.1rem;
  transition: all 0.3s ease;
  font-weight: 500;
  backdrop-filter: blur(5px);
}

/* First column (ROUND) styling */
#gameOverContent td:first-child {
  background: rgba(50, 50, 50, 0.9);
  font-weight: 700;
  color: #fff;
  border-right: 2px solid rgba(76, 175, 80, 0.3);
  font-size: 1.1rem;
  letter-spacing: 0.5px;
}

#gameOverContent tbody tr:hover td {
  background: rgba(76, 175, 80, 0.2);
  transform: translateX(2px);
  box-shadow: inset 0 0 20px rgba(76, 175, 80, 0.1);
}

#gameOverContent tbody tr:hover td:first-child {
  background: rgba(76, 175, 80, 0.25);
}

/* Total Score Row Highlight */
#gameOverContent tr:last-child td {
  background: linear-gradient(135deg, rgba(76, 175, 80, 0.4) 0%, rgba(56, 142, 60, 0.4) 100%);
  font-weight: 700;
  font-size: 1.3rem;
  border-top: 2px solid rgba(76, 175, 80, 0.6);
  border-bottom: none;
  color: #fff !important;
  text-shadow: 0 2px 8px rgba(76, 175, 80, 0.5);
  padding: 1.5rem;
}

#gameOverContent tr:last-child td:first-child {
  background: linear-gradient(135deg, rgba(76, 175, 80, 0.5) 0%, rgba(56, 142, 60, 0.5) 100%);
  border-right: 2px solid rgba(76, 175, 80, 0.6);
  font-size: 1.2rem;
  letter-spacing: 1px;
}

/* Total Score - override positive/negative colors for last row */
#gameOverContent tr:last-child td.score-positive {
  color: #fff !important;
  text-shadow: 0 0 15px rgba(102, 187, 106, 0.8);
}

#gameOverContent tr:last-child td.score-negative {
  color: #fff !important;
  text-shadow: 0 0 15px rgba(239, 83, 80, 0.8);
}

/* Points styling */
#gameOverContent .score-positive {
  color: #66bb6a;
  font-weight: 700;
  text-shadow: 0 0 10px rgba(102, 187, 106, 0.5);
}

#gameOverContent .score-negative {
  color: #ef5350;
  font-weight: 700;
  text-shadow: 0 0 10px rgba(239, 83, 80, 0.5);
}
