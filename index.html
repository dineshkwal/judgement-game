<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Judgement - Play Multiplayer Free | Real-Time Addictive Card Game</title>
<meta name="description" content="Play Judgement card game online with friends. Free multiplayer card game with real-time gameplay, lobby system, and intuitive interface. Start playing now!">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="styles.css">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
<script src="https://www.gstatic.com/firebasejs/10.13.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.13.1/firebase-database-compat.js"></script>
<!-- Project JavaScript Modules -->
<script src="js/config.js"></script>
<script src="js/state.js"></script>
<script src="js/utils.js"></script>
<script src="js/register.js"></script>
<script src="js/lobby.js"></script>
<script src="js/ui.js"></script>
<script src="js/game.js"></script>
<script src="js/userMenu.js"></script>
<script src="js/init.js"></script>
</head>
<body>

<!-- User Info Display (Top Right) -->
<div id="userInfo" onclick="toggleUserMenu()">
  <img id="userInfoAvatar" src="" alt="avatar">
  <span class="userName" id="userInfoName"></span>
</div>

<!-- User Dropdown Menu (Outside userInfo) -->
<div id="userMenu">
  <button onclick="leaveGame()">Leave Game</button>
  <button onclick="newGame()">New Game</button>
</div>

<!-- Scorecard Button (Top Left) -->
<button id="scorecardBtn" onclick="toggleScorecard()" style="display:none;">ğŸ“Š Scorecard</button>

<!-- Scorecard Overlay -->
<div id="scorecardOverlay" onclick="toggleScorecard()">
  <div id="scorecardModal" onclick="event.stopPropagation()">
    <h2>Game Scorecard</h2>
    <button class="close-btn" onclick="toggleScorecard()">âœ•</button>
    <div id="scorecardContent"></div>
  </div>
</div>

<!-- ===== REGISTER SCREEN ===== -->
<div id="register" class="screen active">
  <div class="register-container">
    <div class="register-header">
      <h1>Game of Judgement</h1>
      <p class="tagline">Play the Ultimate Card Game Online</p>
    </div>
    
    <div class="register-form">
      <div class="input-group">
        <label for="playerName">Player Name</label>
        <input type="text" id="playerName" placeholder="Enter your name" maxlength="20">
      </div>

      <div class="input-group">
        <label for="avatarSelect">Choose Your Avatar</label>
        <div class="avatar-grid-container">
          <button class="avatar-grid-nav left hidden" id="avatarScrollLeft" type="button">â€¹</button>
          <div class="avatar-grid" id="avatarGrid">
            <!-- Avatars will be generated here -->
          </div>
          <button class="avatar-grid-nav right" id="avatarScrollRight" type="button">â€º</button>
        </div>
      </div>

      <div class="avatar-preview-container">
        <img id="avatarPreview" class="avatar-preview"
             src="https://api.dicebear.com/9.x/adventurer/svg?seed=Felix&backgroundColor=4caf50" alt="preview">
        <div class="avatar-name" id="avatarName">Cool Guy</div>
      </div>

      <button class="primary-btn" onclick="registerPlayer()">
        <span>Start Playing</span>
        <span class="btn-icon">â†’</span>
      </button>
      
      <div class="features">
        <div class="feature-item">
          <span class="feature-icon">ğŸ®</span>
          <span>Real-time Multiplayer</span>
        </div>
        <div class="feature-item">
          <span class="feature-icon">âš¡</span>
          <span>Highly Addictive</span>
        </div>
        <div class="feature-item">
          <span class="feature-icon">ğŸ’¯</span>
          <span>100% Free</span>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- ===== LOBBY SCREEN ===== -->
<div id="lobby" class="screen">
  <h1>Lobby</h1>
  <div id="lobbyInfo" style="background:#222;padding:1rem;border-radius:var(--radius);margin-bottom:1rem;"></div>
  <div id="lobbyList"></div>
  <div id="hostSelectContainer" style="display:none;margin-top:1rem;">
    <label style="display:block;margin-bottom:0.3rem;font-weight:bold;">Select Starting Player (Host):</label>
    <select id="hostSelect"></select>
  </div>
  <div id="roundSelectContainer" style="display:none;margin-top:1rem;">
    <label style="display:block;margin-bottom:0.3rem;font-weight:bold;">Starting Cards:</label>
    <select id="roundSelect"></select>
    <small style="display:block;color:#aaa;margin-top:0.3rem;">Select number of cards to start with (Round 1)</small>
  </div>
  <button id="startBtn" style="display:none;" onclick="startGame()">Start Game</button>
</div>

<!-- ===== GAME SCREEN ===== -->
<div id="game" class="screen">
  <h1 id="roundInfo"></h1>
  <p id="playerName" style="color:var(--accent);font-size:1.2rem;font-weight:bold;margin:.5rem 0;"></p>
  
  <!-- Scoreboard -->
  <div id="scoreboard"></div>
  
  <!-- Deal Button (only dealer sees this) -->
  <button id="dealBtn" style="display:none;" onclick="dealCards()">Deal Cards</button>
  
  <!-- Bidding UI -->
  <div id="biddingUI">
    <p id="biddingPrompt"></p>
    <div style="display:flex;gap:.5rem;justify-content:center;margin-top:.5rem;">
      <select id="bidSelect"></select>
      <button onclick="submitBid()">Submit Bid</button>
    </div>
  </div>
  
  <div id="table"></div>
  <div id="centerMsg"></div>
  <div class="hand" id="myHand"></div>
  <div id="msg"></div>
</div>

<!-- Footer -->
<footer class="footer">
  Made with <span class="heart">â¤ï¸</span> by Dinesh Khandelwal
</footer>

</body>
</html>
